<!DOCTYPE html>
<html>
    <head>
        <style>
            .row {
                display: flex;
            }
            .key {
                border: 1px solid black;
                border-radius: 0.6em;
                height: 4em;
                width: 4em;
                text-align: center;
                text-transform: uppercase;
                display: block;
                margin: 0.1em;
            }
            .spacebar {

                width: 16em;
            }
        </style>
    </head>
    <script>
        let ks = new Set()
        let dead = 0
        let km = {
            "°": "§",
            "+":"1",
            '"':"2",
            "*":"3",
            "ç":"4",
            "%":"5",
            "&":"6",
            "/":"7",
            "(":"8",
            ")":"9",
            "=":"0",
            ">":"<",
            "?":"'",
        }
        function setColor(k,color) {
            if (k === "Dead"){
                dead += 1
                return
            }
            if (k in km){
                k = km[k]
            }
            try {
                document.getElementById(k).style.background = color
            } catch {
                try{
                    document.getElementById(k.toLowerCase()).style.background = color
                } catch{
                    console.log(k)
                }
            }
        }
        function kpfuncdown(e) {
            e.preventDefault();  

            console.log(e)
            ks.add(e.key)
            update()
            setColor(e.key,"#0FF")
        }
        function kpfuncup(e) {
            e.preventDefault();  
            ks.add(e.key)
            update()
            setColor(e.key,"#FFF")
        }
        function update() {
            //console.clear()
            //console.log(ks)
            ks.forEach(element => {
                //console.log('<div class="key" id="'+element+'">'+element+'</div>')
            });
        }
    </script>
    <body onkeydown="kpfuncdown(event)" onkeyup="kpfuncup(event)">
        <h2>Keyboard</h2>
        <div class="keyboard" id="keyboard">
            <div class="row">
                <div class="key" id="Escape">Esc</div> 
                <div class="key" id="F1">F1</div> 
                <div class="key" id="F2">F2</div> 
                <div class="key" id="F3">F3</div> 
                <div class="key" id="F4">F4</div> 
                <div class="key" id="F5">F5</div> 
                <div class="key" id="F6">F6</div> 
                <div class="key" id="F7">F7</div> 
                <div class="key" id="F8">F8</div> 
                <div class="key" id="F9">F9</div> 
                <div class="key" id="F10">F10</div> 
                <div class="key" id="F11">F11</div> 
                <div class="key" id="F12">F12</div> 
                <div class="key" id="Home">Home</div> 
                <div class="key" id="End">End</div> 
                <div class="key" id="Insert">Insert</div> 
                <div class="key" id="Delete">Delete</div>
            </div> 
            <div class="row"> 
                <div class="key" id="§">§</div> 
                <div class="key" id="1">1</div> 
                <div class="key" id="2">2</div> 
                <div class="key" id="3">3</div> 
                <div class="key" id="4">4</div> 
                <div class="key" id="5">5</div> 
                <div class="key" id="6">6</div> 
                <div class="key" id="7">7</div> 
                <div class="key" id="8">8</div> 
                <div class="key" id="9">9</div> 
                <div class="key" id="0">0</div> 
                <div class="key" id="'">'</div> 
                <div class="key" id="Backspace">Backspace</div>
            </div>
            <div class="row">
                <div class="key" id="Tab">Tab</div> 
                <div class="key" id="q">q</div> 
                <div class="key" id="w">w</div> 
                <div class="key" id="e">e</div> 
                <div class="key" id="r">r</div> 
                <div class="key" id="t">t</div> 
                <div class="key" id="z">z</div> 
                <div class="key" id="u">u</div> 
                <div class="key" id="i">i</div> 
                <div class="key" id="o">o</div> 
                <div class="key" id="p">p</div> 
                <div class="key" id="ü">ü</div> 
                <div class="key" id="Enter">Enter</div>
            </div>
            <div class="row">
                <div class="key" id="CapsLock">Caps</div> 
                <div class="key" id="a">a</div> 
                <div class="key" id="s">s</div> 
                <div class="key" id="d">d</div> 
                <div class="key" id="f">f</div> 
                <div class="key" id="g">g</div> 
                <div class="key" id="h">h</div> 
                <div class="key" id="j">j</div> 
                <div class="key" id="k">k</div> 
                <div class="key" id="l">l</div> 
                <div class="key" id="ö">ö</div> 
                <div class="key" id="ä">ä</div> 
                <div class="key" id="$">$</div> 
            </div>
            <div class="row">
                <div class="key" id="Shift">Shift</div> 
                <div class="key" id="&lt;">&lt;</div> 
                <div class="key" id="y">y</div> 
                <div class="key" id="x">x</div> 
                <div class="key" id="c">c</div> 
                <div class="key" id="v">v</div> 
                <div class="key" id="b">b</div> 
                <div class="key" id="n">n</div> 
                <div class="key" id="m">m</div> 
                <div class="key" id=",">,</div> 
                <div class="key" id=".">.</div> 
                <div class="key" id="-">-</div>
            </div>
            <div class="row">
                <div class="key" id="Control">Ctrl</div> 
                <div class="key" id="Alt">Alt</div> 
                <div class="key spacebar" id=" "> </div> 
                <div class="key" id="AltGraph">AltGr</div> 
            </div>
        </div>
    </body>
</html>